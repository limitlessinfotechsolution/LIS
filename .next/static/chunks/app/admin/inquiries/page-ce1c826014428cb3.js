(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{800:(e,a,t)=>{Promise.resolve().then(t.bind(t,7324))},7324:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>c});var s=t(5155),r=t(2115),l=t(5895),i=t(1408),d=t(898),n=t(6237);function c(){let[e,a]=(0,r.useState)([]),[t,c]=(0,r.useState)([]),[o,x]=(0,r.useState)(""),[m,h]=(0,r.useState)("all"),[g,y]=(0,r.useState)(null),[p,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{j()},[]),(0,r.useEffect)(()=>{b()},[o,m,e]);let j=async()=>{try{let e=await fetch("/api/admin/inquiries",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("adminToken"))}}),t=await e.json();a(t)}catch(e){}finally{u(!1)}},b=()=>{let a=e;"all"!==m&&(a=a.filter(e=>e.status===m)),o&&(a=a.filter(e=>e.name.toLowerCase().includes(o.toLowerCase())||e.email.toLowerCase().includes(o.toLowerCase())||e.company.toLowerCase().includes(o.toLowerCase()))),c(a)},N=async(e,a)=>{try{await fetch("/api/admin/inquiries/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("adminToken"))},body:JSON.stringify({status:a})}),j()}catch(e){}},f=async e=>{if(confirm("Are you sure you want to delete this inquiry?"))try{await fetch("/api/admin/inquiries/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("adminToken"))}}),j()}catch(e){}},v={pending:"bg-orange-100 text-orange-600",read:"bg-blue-100 text-blue-600",replied:"bg-green-100 text-green-600",archived:"bg-gray-100 text-gray-600"},w={pending:d.w_X,read:d.Ny1,replied:d.A7C,archived:d._Hm};return(0,s.jsxs)(n.A,{children:[(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-2",children:"Inquiry Management"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage and respond to customer inquiries"})]}),(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg mb-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.KSO,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:"text",value:o,onChange:e=>x(e.target.value),placeholder:"Search by name, email, or company...",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-[#2A52BE] focus:outline-none bg-white dark:bg-gray-700 text-gray-800 dark:text-white"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.YsJ,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),(0,s.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-[#2A52BE] focus:outline-none bg-white dark:bg-gray-700 text-gray-800 dark:text-white appearance-none",children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"pending",children:"Pending"}),(0,s.jsx)("option",{value:"read",children:"Read"}),(0,s.jsx)("option",{value:"replied",children:"Replied"}),(0,s.jsx)("option",{value:"archived",children:"Archived"})]})]})]})}),(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg overflow-hidden",children:p?(0,s.jsxs)("div",{className:"p-12 text-center",children:[(0,s.jsx)("div",{className:"inline-block w-12 h-12 border-4 border-[#2A52BE] border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading inquiries..."})]}):0===t.length?(0,s.jsxs)("div",{className:"p-12 text-center",children:[(0,s.jsx)(d.maD,{className:"text-6xl text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No inquiries found"})]}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Contact Info"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Company"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Service"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.map(e=>{let a=w[e.status];return(0,s.jsxs)(l.P.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-gray-800 dark:text-white",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.email}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.phone})]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:e.company||"-"}),(0,s.jsx)("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:e.service}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ".concat(v[e.status]),children:[(0,s.jsx)(a,{}),e.status]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>y(e),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"View Details",children:(0,s.jsx)(d.Ny1,{})}),(0,s.jsx)(l.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>f(e.id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Delete",children:(0,s.jsx)(d.qbC,{})})]})})]},e.id)})})]})})})]}),(0,s.jsx)(i.N,{children:g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>y(null),className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50"}),(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,s.jsxs)(l.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Inquiry Details"}),(0,s.jsx)("button",{onClick:()=>y(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,s.jsx)(d._Hm,{className:"text-xl text-gray-600 dark:text-gray-400"})})]})}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2",children:"CONTACT INFORMATION"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("p",{className:"text-gray-800 dark:text-white",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Name:"})," ",g.name]}),(0,s.jsxs)("p",{className:"text-gray-800 dark:text-white",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Email:"})," ",g.email]}),(0,s.jsxs)("p",{className:"text-gray-800 dark:text-white",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Phone:"})," ",g.phone]}),g.company&&(0,s.jsxs)("p",{className:"text-gray-800 dark:text-white",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Company:"})," ",g.company]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2",children:"SERVICE REQUESTED"}),(0,s.jsx)("p",{className:"text-gray-800 dark:text-white",children:g.service})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2",children:"MESSAGE"}),(0,s.jsx)("p",{className:"text-gray-800 dark:text-white whitespace-pre-wrap",children:g.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2",children:"UPDATE STATUS"}),(0,s.jsx)("div",{className:"flex gap-2",children:["pending","read","replied","archived"].map(e=>(0,s.jsx)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{N(g.id,e),y(null)},className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(g.status===e?v[e]:"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e},e))})]}),(0,s.jsx)("div",{className:"flex gap-3",children:(0,s.jsxs)(l.P.a,{href:"mailto:".concat(g.email),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-[#2A52BE] to-[#F97316] text-white font-semibold rounded-xl",children:[(0,s.jsx)(d.w1Z,{}),"Reply via Email"]})})]})]})})]})})]})}}},e=>{e.O(0,[5878,4223,3306,1255,7358],()=>e(e.s=800)),_N_E=e.O()}]);