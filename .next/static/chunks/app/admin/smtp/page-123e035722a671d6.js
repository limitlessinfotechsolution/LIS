(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7363],{1217:(e,a,t)=>{Promise.resolve().then(t.bind(t,2375))},2375:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var r=t(5155),s=t(2115),l=t(5895),d=t(898),o=t(6237);function i(){let[e,a]=(0,s.useState)({host:"",port:587,secure:!1,username:"",password:"",fromEmail:"",fromName:"Limitless Infotech"}),[t,i]=(0,s.useState)(!1),[n,c]=(0,s.useState)(!1),[x,g]=(0,s.useState)("");(0,s.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await fetch("/api/admin/smtp",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("adminToken"))}}),t=await e.json();t&&a(t)}catch(e){}},h=async()=>{i(!0);try{(await fetch("/api/admin/smtp",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("adminToken"))},body:JSON.stringify(e)})).ok?alert("SMTP configuration saved successfully!"):alert("Failed to save SMTP configuration")}catch(e){alert("An error occurred while saving")}finally{i(!1)}},u=async()=>{if(!x)return void alert("Please enter a test email address");c(!0);try{(await fetch("/api/admin/smtp/test",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("adminToken"))},body:JSON.stringify({email:x})})).ok?alert("Test email sent successfully!"):alert("Failed to send test email")}catch(e){alert("An error occurred while testing")}finally{c(!1)}};return(0,r.jsx)(o.A,{children:(0,r.jsxs)("div",{className:"p-8 max-w-4xl",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-2",children:"SMTP Configuration"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Configure email server settings for sending emails"})]}),(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-lg mb-6",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[(0,r.jsx)(d.vwk,{className:"text-[#2A52BE]"}),"Server Settings"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"SMTP Host"}),(0,r.jsx)("input",{type:"text",value:e.host,onChange:t=>a({...e,host:t.target.value}),placeholder:"smtp.gmail.com",className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-[#2A52BE] focus:outline-none bg-white dark:bg-gray-700 text-gray-800 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Port"}),(0,r.jsx)("input",{type:"number",value:e.port,onChange:t=>a({...e,port:parseInt(t.target.value)}),placeholder:"587",className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-[#2A52BE] focus:outline-none bg-white dark:bg-gray-700 text-gray-800 dark:text-white"})]})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.secure,onChange:t=>a({...e,secure:t.target.checked}),className:"w-5 h-5 text-[#2A52BE] rounded focus:ring-[#2A52BE]"}),(0,r.jsx)("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Use Secure Connection (TLS/SSL)"})]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Authentication"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Username / Email"}),(0,r.jsx)("input",{type:"text",value:e.username,onChange:t=>a({...e,username:t.target.value}),placeholder:"your-email@gmail.com",className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-[#2A52BE] focus:outline-none bg-white dark:bg-gray-700 text-gray-800 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Password / App Password"}),(0,r.jsx)("input",{type:"password",value:e.password,onChange:t=>a({...e,password:t.target.value}),placeholder:"••••••••••••••••",className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-[#2A52BE] focus:outline-none bg-white dark:bg-gray-700 text-gray-800 dark:text-white"}),(0,r.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"For Gmail, use an App Password instead of your regular password"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Sender Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"From Email"}),(0,r.jsx)("input",{type:"email",value:e.fromEmail,onChange:t=>a({...e,fromEmail:t.target.value}),placeholder:"noreply@limitlessinfotech.com",className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-[#2A52BE] focus:outline-none bg-white dark:bg-gray-700 text-gray-800 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"From Name"}),(0,r.jsx)("input",{type:"text",value:e.fromName,onChange:t=>a({...e,fromName:t.target.value}),placeholder:"Limitless Infotech",className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-[#2A52BE] focus:outline-none bg-white dark:bg-gray-700 text-gray-800 dark:text-white"})]})]})]}),(0,r.jsx)("div",{className:"flex gap-4 pt-4",children:(0,r.jsxs)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:h,disabled:t,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-[#2A52BE] to-[#F97316] text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-shadow disabled:opacity-50",children:[(0,r.jsx)(d.dIn,{}),t?"Saving...":"Save Configuration"]})})]})}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-lg",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[(0,r.jsx)(d.Cer,{className:"text-[#2A52BE]"}),"Test Email Configuration"]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("input",{type:"email",value:x,onChange:e=>g(e.target.value),placeholder:"Enter test email address",className:"flex-1 px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-[#2A52BE] focus:outline-none bg-white dark:bg-gray-700 text-gray-800 dark:text-white"}),(0,r.jsx)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:u,disabled:n,className:"px-6 py-3 bg-green-600 text-white font-semibold rounded-xl hover:bg-green-700 transition-colors disabled:opacity-50",children:n?"Sending...":"Send Test Email"})]}),(0,r.jsx)("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:(0,r.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-300 flex items-start gap-2",children:[(0,r.jsx)(d.BS8,{className:"mt-0.5 flex-shrink-0"}),(0,r.jsx)("span",{children:"Make sure to save your configuration before testing. The test email will be sent using the current settings."})]})})]}),(0,r.jsxs)("div",{className:"mt-6 bg-gray-50 dark:bg-gray-700 rounded-2xl p-6",children:[(0,r.jsx)("h3",{className:"font-bold text-gray-800 dark:text-white mb-4",children:"Common SMTP Providers"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Gmail"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Host: smtp.gmail.com"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Port: 587 (TLS) or 465 (SSL)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"SendGrid"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Host: smtp.sendgrid.net"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Port: 587"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Mailgun"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Host: smtp.mailgun.org"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Port: 587"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Outlook"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Host: smtp-mail.outlook.com"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Port: 587"})]})]})]})]})})}}},e=>{e.O(0,[5878,4223,3306,1255,7358],()=>e(e.s=1217)),_N_E=e.O()}]);